setups:
  setup-master:
    groups:
    - name: gromacs/master
    actions:
    - type: command
      command: touch master.txt
  
  setup-slave:
    groups:
    - name: gromacs/slave
    actions:
    - type: command
      command: touch slave.txt

  setup-experiment:
    actions:
    - type: action
      name: setup-hosts
      group: gromacs
    - type: action
      name: setup-exp
      group: gromacs
      
clusters:
  cluster-t2.micro-8x:
    nodes:
      node-slave:
        type: t2m
        count: 7
        min_count: 7
        setups: 
        - setup-slave
      node-master:
        type: t2m
        count: 1
        min_count: 1
        setups: 
        - setup-master

    after:
    - setup-experiment
